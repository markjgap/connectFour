# Connect Four with Artifical Intelligence

  The game of Connect Four is a two-player game of strategy. Each player takes turns dropping his or her discs (usually red or black) into a seven-column by six-row grid. The discs fall straight down, filling up the next open space within the column. To win the game, the player needs to connect four in a row of their own discs either horizontally, vertically or diagonally before their opponent does. 

  Connect four is a solved game, meaning that the outcome can be predicted from any position given that each player plays perfectly.  The perfect play approach is the strategy of a player whose every move leads to the best possible outcome no matter what their opponent’s response is. Every possible position can be evaluated as win lose or draw and by looking back on how that state of the board came to be, we can recursively evaluate each moves prior. Simply by looking ahead or simulating moves to a state in our game where it favors that particular player, we can predict the best moves to get us to that favorable state.
The concept of minimax is a general decision making rule which it can look ahead and help decide the best course of action for that player. Simiply imagine two players called Min and Max. If you were Max, your goal is to get the maximum value during its turn while Min will try to do the opposite and minimize Max’s value doing the opposite, minimizing Max’s value. In the case of connect four where the game has finitely strategies there is a value that given player 2’s strategy, the best move for player 1 is “N” and as for player 1’s strategy, the best move for player 2 is “-N”. Thus categorizing the game as a zero-sum game where each player’s gain is exactly balanced by the loss of his or her opponents, which means that a player’s advantage is an opponent’s disadvantage. 
  
  Now when implementing an artificial intelligence (AI) to play this game I implemented a few concepts. The classification zero-sum which was mentioned earlier is a reason why using a minimax algorithm works so well when implementing a look ahead type of evaluation for board favorability. Say your AI wants to make a move. It will look ahead n-moves it can make as well as it’s opponent and determine which move is the best based on all those moves it had just looked at. When building those hypothetical moves, you can view it as a tree where each node is a state in the game board. With the root node being our AI’s initial turn, while the next level/depth below is it’s opponent and after that is our AI’s turn again and so on.  Here it can generate all possible board states that can result after each player makes their move. Once this state tree has been built, we can evaluate each state in order to find out what move is the best move to make. Finally the AI is trying to win the game so it wants to find the max value while your opponent is trying to minimize your value by choosing the worst value for you/best value for itself.
Now let’s look at the heuristic that determines how much the board favors or does not favor the player. This function decides if a board favors one player over another can be implemented in many different ways and I consider the most important part of the design. One way is to put a numerical value to a state of the board to help determine how favorable it may or may not be. In my implementation we have the range between -1.0 and 1.0 where anything close to 1.0 favors that player while anything close to -1.0 favors their opponent and if it is 0.0 it favors neither player. So the objective is to find a board at 1.0 meaning an imminent win and try to stay away from -1.0. But what constitutes a 1.0 evaluation? We must first decide what are we looking for in a board. Obliviously the object of this game is to connect four pieces in a row so you cannot get any better board favorability than that. But there are other ways of seeing a board favoring one over the other which is how many grouping of 3 discs you have. The heuristic searches columns and rows for this arrangement because it knows that the next best thing to four in a row is three in a row or an open space where neither player occupies that position in between a group of two and one of same colored discs. These patterns help the heuristic value the board. Of course if you were the opponent it can just easily determine that what’s good for the AI player may is not good for the opponent and vice versa. 

  Stated earlier, connect four is a solved game and that if you were the first player and you played your game perfectly, there is only one way you would be guaranteed a win every time. And it starts with putting your first disc in the center. But why is the center so important? Well, I looked deeper into why and stumbled across that the more discs your have that are center on the board the more combinations of four in a row you are able to use. The corners ended up being the least desirable. But as you moved toward the middle and center of the board, you can see that you have a better chance of getting four in a row. After calculating each position, it ranged from three (number of times using that position in a group of four in a row) found at the corners to as high as sixteen, which are centered in the middle of the board. Using those numbers I was able to come up with a weighted table based on those findings to value each position. Now my heuristic can look up each player’s discs in this table and assign a value to their positions. Then adding up every disc’s position for each player, it can compare who is positioned better to win. Now it can see look for the best open position anywhere on the board that has the most chances of being part of a four in a row combination. This new implementation gives the program the ability to look for prime locations on the board.

